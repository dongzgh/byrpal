<ion-view view-title="Product">
  <ion-content>
    <div class="list">
      <div class="item item-divider">
        Product Related
      </div>
      <label class="item item-input">
        <span class="input-label">Name</span>
        <input type="text" ng-model="productCtrl.name">
      </label>
      <label class="item item-input">
        <span class="input-label">Tags</span>
        <input type="text" ng-model="productCtrl.tags">
      </label>
      <label class="item item-input">
        <span class="input-label">Pictures</span>   
        <input id="upload" type="file" nv-file-select uploader="productCtrl.uploader" accept="image/*" multiple>
        <span class="button icon ion-android-upload"></span>
        <button class="button icon ion-trash-a" ng-click="productCtrl.clearPictures(product)"></button>
      </label>
      <div class="row" style="overflow: scroll">
        <div ng-repeat="picture in productCtrl.pictures">
          <img ng-src="{{picture}}" />
        </div>
      </div>
      <label class="item item-input">
        <span class="input-label">Description</span>
        <textarea rows="4" ng-model="productCtrl.description">
      </label>
      <label class="item item-input item-select">
        <span class="input-label">Weight</span>
        <input type="number" ng-model="productCtrl.weight.value">     
        <select ng-model="productCtrl.weight.unit">
          <option ng-repeat="unit in productCtrl.weightUnits">{{unit}}</option>
        </select>
      </label>
      <label class="item item-input">
        <span class="input-label">Unit Price</span>
        <input type="number" ng-model="productCtrl.unitPrice">
      </label>
      <label class="item item-input">
        <span class="input-label">Retailer</span>
        <input type="text" ng-model="productCtrl.retailer">
      </label>
      <label class="item item-input item-select">
        <span class="input-label">Tax Rate</span>
        <select ng-model="productCtrl.taxRate">
          <option ng-repeat="taxRate in productCtrl.settings.taxRates">{{taxRate}}</option>
        </select>
      </label>
      <label class="item item-input item-select">
        <span class="input-label">Profit</span>
        <input type="number" ng-model="productCtrl.profit.value">     
        <select ng-model="productCtrl.profit.model">
          <option ng-repeat="model in productCtrl.profitModels">{{model}}</option>
        </select>
      </label>
      <div class="item item-divider">
        Express Related
      </div>
      <label class="item item-input">
        <span class="input-label">First lb</span>
        <input type="number" ng-model="productCtrl.exprsFirstPoundFee">
      </label>
      <label class="item item-input">
        <span class="input-label">Rest lbs</span>
        <input type="number" ng-model="productCtrl.exprsRestPoundsFee">
      </label>
      <label class="item item-input">
        <span class="input-label">Minimum Fee</span>
        <input type="number" ng-model="productCtrl.exprsMinFee">
      </label>
      <label class="item item-input">
        <span class="input-label">Waiver Min lbs</span>
        <input type="number" ng-model="productCtrl.exprsWaiverMinPounds">
      </label>
      <label class="item item-input">
        <span class="input-label">Weight Unit (lbs)</span>
        <input type="number" ng-model="productCtrl.exprsWeightUnit">
      </label>
      <div class="item item-divider">
        Transportation Related
      </div>
      <label class="item item-input">
        <span class="input-label">Flat Rate</span>
        <input type="number" ng-model="productCtrl.transFlatRate">
      </label>
      <div class="item item-divider">
        Summary
      </div>
      <label class="item item-input">
        <span class="input-label">Additional Fee</span>
        <input type="number" ng-model="productCtrl.additionalFee">
      </label>
      <label class="item item-input">
        <span class="input-label">Retail Prices ({{productCtrl.settings.systemCurrency}})</span>
        <button class="button icon ion-calculator" ng-click="productCtrl.evalRetailPrices()"></button>
        <div class="list list-insert">
          <div class="item" ng-repeat="retailPrice in productCtrl.retailPrices">
            <div class="price" >
              [{{productCtrl.settings.systemCurrency}}] QTY ({{$index + 1}}) : {{productCtrl.retailPrices[$index] | number : 2}}              
            </div>
            <div class="price converted">
              [{{productCtrl.settings.localCurrency}}] QTY ({{$index + 1}}) : {{productCtrl.convertedPrices[$index] | number : 2}}
            </div>
          </div>
        </div>
      </label>
      <div class="button-bar">
        <button class="button icon ion-archive" ng-click="productCtrl.save()"></button>
      </div>
    </div>
  </ion-content>
</ion-view>